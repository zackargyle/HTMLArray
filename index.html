<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="index.css">
    </head> 
  <body>
    <div id="container">
        <input id="firstName" placeholder="First name">
        <input id="lastName" placeholder="Last name">
        <button id="add">Push</button><br>
        <input id="index" placeholder="Index">
        <input id="howMany" placeholder="How many">
        <button id="splice">Splice</button><br>
        <input id="from" placeholder="From">
        <input id="to" placeholder="To">
        <button id="move">Move</button><br>
        <button id="prev">Prev Page</button>
        <button id="next">Next Page</button>
        <button id="clear">Clear</button><br>

        <div id="dataContainer">
            <div id="repeat" class="data">
                <div x-value="firstName"> <span x-value="lastName"></span>
                </div>
            </div>
        </div>
    </div>

    <script src="HTMLArray.js"></script>
    <script>
    (function() {
        var data = [
            {firstName: "Adam", lastName: "Argyle"},
            {firstName: "Sierra", lastName: "Argyle"},
            {firstName: "Zack", lastName: "Argyle"},
            {firstName: "Hillary", lastName: "Argyle"},
            {firstName: "Alex", lastName: "Argyle"}
        ];
        var x = new HTMLArray("repeat");
        x.initPagination(5, 0, true);

        var firstName = document.getElementById("firstName");
        var lastName = document.getElementById("lastName");
        document.getElementById("add").onclick = function() {
            x.push({
                firstName:firstName.value,
                lastName:lastName.value
            });
            refreshPaging();

        }

        var index = document.getElementById("index");
        var howMany = document.getElementById("howMany");
        document.getElementById("splice").onclick = function() {
            x.splice(index.value, howMany.value, {
                firstName:firstName.value,
                lastName:lastName.value
            });
            refreshPaging();
        }

        var from = document.getElementById("from");
        var to = document.getElementById("to");
        document.getElementById("move").onclick = function() {
            x.move(from.value, to.value);
        }

        document.getElementById("clear").onclick = function() {
            x.clear();
            refreshPaging();
        }

        var next = document.getElementById("next");
        next.onclick = function() {
            x.nextPage();
            refreshPaging();
        }
        var prev = document.getElementById("prev");
        prev.onclick = function() {
            x.prevPage();
            refreshPaging();
        }

        function refreshPaging() {
            prev.className = x.isFirstPage() ? "disabled" : "";
            next.className = x.isLastPage()  ? "disabled" : "";
        }
        refreshPaging();
    })();
        

    </script>

    <script>
        window.onresize = (function() {
            var container = document.getElementById("container");
            return function() {
                console.log("hey");
                container.style.marginLeft = (window.innerWidth - container.offsetWidth) / 2 + 'px';
            }
        })();
        window.onresize();

    </script>
  </body>
</html>