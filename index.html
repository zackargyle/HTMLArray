<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="index.css">
    </head> 
  <body>
    <div id="container">
        <input id="firstName" placeholder="First name">
        <input id="lastName" placeholder="Last name">
        <button id="add">Push</button><br>
        <input id="index" placeholder="Index">
        <input id="howMany" placeholder="How many">
        <button id="splice">Splice</button><br>
        <input id="from" placeholder="From">
        <input id="to" placeholder="To">
        <button id="move">Move</button><br>
        <button id="prev">Prev Page</button>
        <button id="next">Next Page</button>
        <button id="clear">Clear</button><br>

        <div id="dataContainer">
            <div id="repeat" class="data">?{{firstName}} {{lastName}}</div>
        </div>

    </div>

    <script src="HTMLArray.js"></script>

    <script>
    (function() {
        var data = [
            {firstName: "Adam", lastName: "Argyle"},
            {firstName: "Sierra", lastName: "Argyle"},
            {firstName: "Nexus", lastName: "Argyle"},
            {firstName: "Zack", lastName: "Argyle"},
            {firstName: "Hillary", lastName: "Argyle"},
            {firstName: "Atticus", lastName: "Argyle"}
        ];

        var first = document.getElementById("firstName"),
            last  = document.getElementById("lastName"),
            index = document.getElementById("index"),
            count = document.getElementById("howMany"),
            from  = document.getElementById("from"),
            to    = document.getElementById("to"),
            next  = document.getElementById("next"),
            prev  = document.getElementById("prev");

        var x = new HTMLArray("repeat", data);
        console.log(x);
        x.initPagination(5, 0, true);
        x.addEventListener("click", function(e, data, index) {
            alert("Hello from " + data.firstName + " " + data.lastName + " at index: " + index);
        });

        document.getElementById("add").addEventListener("click", function() {
            x.push({
                firstName:first.value,
                lastName:last.value
            });
            refreshPaging();
        });

        document.getElementById("splice").addEventListener("click", function() {
            x.splice(index.value, count.value, {
                firstName:first.value,
                lastName:last.value
            });
            refreshPaging();
        });

        document.getElementById("move").addEventListener("click", function() {
            x.move(from.value, to.value);
        });

        document.getElementById("clear").addEventListener("click", function() {
            x.clear();
            refreshPaging();
        });

        next.addEventListener("click", function() {
            x.nextPage();
            refreshPaging();
        });

        prev.addEventListener("click", function() {
            x.prevPage();
            refreshPaging();
        });

        function refreshPaging() {
            prev.className = x.isFirstPage() ? "disabled" : "";
            next.className = x.isLastPage()  ? "disabled" : "";
        }
        refreshPaging();
    })();
        

    </script>
  </body>
</html>